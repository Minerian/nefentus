import{f as m,a as j,b as C,c as T,d as k,a5 as B,e as g,r,j as e,B as i,a6 as M,a7 as A,m as N,a8 as v,C as I,S as z,a1 as L,T as y}from"./index-ceef141d.js";import{S as E}from"./signupByEmail-714c1bac.js";import"./recaptcha-wrapper-235491ee.js";import"./zod-26008f98.js";import"./error-08a7b626.js";const H="_walletsWrap_1ib4y_1",S="_titleHeader_1ib4y_6",W={walletsWrap:H,titleHeader:S},$="_walletWrap_1h1zf_1",P="_walletLogoWrap_1h1zf_9",D="_walletLogo_1h1zf_9",R="_walletTitle_1h1zf_22",F="_walletInfoWrap_1h1zf_28",V="_walletAddressTitle_1h1zf_34",q="_walletBalanceTitle_1h1zf_35",G="_buttonWrap_1h1zf_40",J="_walletAddress_1h1zf_34",K="_walletBalance_1h1zf_35",s={walletWrap:$,walletLogoWrap:P,walletLogo:D,walletTitle:R,walletInfoWrap:F,walletAddressTitle:V,walletBalanceTitle:q,buttonWrap:G,walletAddress:J,walletBalance:K},O=({name:a,config:o,icon:l,connectStatus:c,setConnectStatus:n})=>{var w,u,h,_;const f=new m,t={connect:j(),disconnect:C(),config:o,address:T(),status:k(),balance:B()},{t:d}=g();r.useEffect(()=>{(a==="MetaMask"&&c.WalletConnect==="connected"||a==="WalletConnect"&&c.MetaMask==="connected")&&t.disconnect()},[c,a]),r.useEffect(()=>{t.status==="connected"&&(a==="WalletConnect"?n({WalletConnect:"connected",Metamask:"disconnected"}):a==="MetaMask"&&n({Metamask:"connected",WalletConnect:"disconnected"}),b(t.address))},[t.status,a,n,t.address]);async function b(p){if(p){const x={address:p,name:a};a!==null&&await f.registerWalletAddress(x)}}return e.jsxs("div",{className:s.walletWrap,children:[e.jsxs("div",{className:s.walletInfoWrap,children:[e.jsx("div",{className:s.walletLogoWrap,children:e.jsx("img",{src:l,className:s.walletLogo,alt:`${a}`})}),e.jsx("div",{className:s.walletTitle,children:a}),t.address&&e.jsxs("div",{className:s.walletAddressTitle,children:["Wallet address:",e.jsx("span",{className:s.walletAddress,children:`${t.address.substring(0,5)}...${t.address.substring(t.address.length-5)}`})]}),t.address&&e.jsxs("div",{className:s.walletBalanceTitle,children:["Wallet balance:"," ",e.jsxs("span",{className:s.walletBalance,children:[(u=(w=t==null?void 0:t.balance)==null?void 0:w.data)==null?void 0:u.displayValue.slice(0,5)," ",(_=(h=t==null?void 0:t.balance)==null?void 0:h.data)==null?void 0:_.symbol]})]})]}),e.jsxs("div",{className:s.buttonWrap,children:[t.status==="disconnected"&&e.jsx(i,{onClick:()=>{t.connect(t.config,{chainId:1})},children:d("dashboard.integrations.connect")}),t.status==="unknown"&&e.jsx(i,{disabled:!0,children:d("dashboard.integrations.don'tConnect")}),t.status==="connecting"&&e.jsx(i,{disabled:!0,children:d("dashboard.integrations.connecting")}),t.status==="connected"&&e.jsx(i,{color:"green",onClick:()=>t.disconnect(),children:d("dashboard.integrations.disconnect")})]})]})},Q=()=>{const a=[{connect:M(),icon:A,name:"WalletConnect"},{connect:N(),icon:v,name:"MetaMask"}],{t:o}=g(),[l,c]=r.useState({"Wallet Connect":"disconnected",Metamask:"disconnected"});return r.useEffect(()=>{console.log(l)},[l]),e.jsxs(I,{children:[e.jsx("div",{className:W.titleHeader,children:e.jsx(z,{title:o("integrations.title"),description:o("integrations.subtitle")})}),e.jsx("div",{className:W.walletsWrap,children:a.map(n=>e.jsx(L.Fragment,{children:e.jsx(y,{clientId:"639eea2ebcabed7eab90b56aceeed08b",supportedWallets:[n.connect],children:e.jsx(O,{name:n.name,config:n.connect,icon:n.icon,connectStatus:l,setConnectStatus:c})})},n.name))})]})},te=()=>e.jsxs("div",{children:[e.jsx(Q,{}),e.jsx(E,{})]});export{te as default};
