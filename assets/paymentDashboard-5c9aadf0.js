import{j as e,e as b,r as a,M as v,C as G,B as C,X as B,Y as O,T as j,m as L}from"./index-ceef141d.js";import{v as A}from"./vendorDashboardApi-f4cbd3df.js";import{T as k,a as y,b as w}from"./tableStatus-18e009f6.js";import{S as M}from"./signupByEmail-714c1bac.js";import"./recaptcha-wrapper-235491ee.js";import"./zod-26008f98.js";import"./error-08a7b626.js";const V="_title_z0ys9_1",W="_row_z0ys9_6",F="_button_z0ys9_12",R={title:V,row:W,button:F},X="_inputWrapper_nn86x_1",K={inputWrapper:X},d=({placeholder:i,value:n,setVaue:_})=>{const s=t=>{_(t.target.value)};return e.jsx("div",{className:K.inputWrapper,children:e.jsx("input",{type:"text",placeholder:i,value:n,onChange:s})})},Y=({setLoadingData:i})=>{const{t:n}=b(),[_,s]=a.useState(!1),[t,p]=a.useState(""),[c,T]=a.useState(""),[l,I]=a.useState(""),[o,E]=a.useState(""),[r,N]=a.useState(""),[m,f]=a.useState(""),{clearMessages:q,setErrorMessage:u,setInfoMessage:z}=a.useContext(v),[g,S]=a.useState(""),H=new A;async function U(){if(!t){u(n("messages.error.amountValid"));return}if(!c){u(n("messages.validation.validEmail"));return}if(!l){u(n("messages.validation.nameValid"));return}if(!o){u(n("messages.validation.companyValid"));return}if(!r){u(n("messages.validation.addressValid"));return}if(!m){u(n("messages.validation.taxNumberValid"));return}const D={amountUSD:t,email:c,name:l,company:o,address:r,taxNumber:m},h=await H.createInvoice(D);if(h){const P=window.location.origin+"/pay/"+h;S(P),s("payment"),i(x=>!x)}else u(n("messages.error.createInvoice"))}return e.jsxs(e.Fragment,{children:[e.jsxs(G,{children:[e.jsx("div",{className:R.title,children:n("payments.title")}),e.jsxs("div",{className:R.row,children:[e.jsx(d,{placeholder:n("payments.enterAmount"),value:t,setVaue:p}),e.jsx(d,{placeholder:n("payments.email"),value:c,setVaue:T}),e.jsx(d,{placeholder:n("payments.name"),value:l,setVaue:I}),e.jsx(d,{placeholder:n("payments.company"),value:o,setVaue:E}),e.jsx(d,{placeholder:n("payments.address"),value:r,setVaue:N}),e.jsx(d,{placeholder:n("payments.taxNumber"),value:m,setVaue:f})]}),e.jsx("div",{className:R.button,children:e.jsx(C,{onClick:U,children:n("payments.createInvoice")})})]}),_==="payment"?e.jsx(B,{show:_,setShow:s,price:`$${t}`,tax:`Tax Number ${m}`,name:l,email:c,company:o,address:r,link:g,onClick:()=>s("QRPopup")}):e.jsx(O,{show:_,setShow:s,data:{amount:t,email:c,name:l,company:o,address:r,taxNumber:m}})]})},J=({link:i,data:n})=>{const[_,s]=a.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{cursor:"pointer"},onClick:()=>s(!0),children:e.jsx("img",{src:i,style:{height:"2rem",width:"auto"},alt:""})}),e.jsx(O,{show:_,setShow:s,data:n,onClick:()=>{}})]})},se=()=>{const[i,n]=a.useState([]),[_,s]=a.useState(!1),{t}=b(),p=new A,c=[t("payments.table.created"),t("payments.table.price"),t("payments.table.status"),t("payments.table.qr"),t("payments.table.actions")];a.useEffect(()=>{T()},[_]);async function T(){let o=await p.getInvoices();if(o=o.reverse(),console.log(o,"newInvoices"),o){const E=o.map(r=>l(r));n(E)}}function l(o){return[new Date(o.createdAt).toLocaleString(),parseFloat(o.price).toFixed(2),e.jsx(k,{color:"green",children:t("general.open")}),e.jsx(J,{data:o,link:{GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_5195487a-40e9-46d5-bc33-4b1b4432a3d9",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_user_agent:"npm/8.19.4 node/v16.20.2 linux x64 workspaces/false ci/github-actions",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_5195487a-40e9-46d5-bc33-4b1b4432a3d9",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/16.20.2/x64/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/runner",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/nefentus/nefentus/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"Minerian",GRADLE_HOME:"/usr/share/gradle-8.6",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/26.2.11394342",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",GITHUB_REPOSITORY_OWNER_ID:"108854816",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu22",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_config_userconfig:"/home/runner/.npmrc",npm_config_local_prefix:"/home/runner/work/nefentus/nefentus",SYSTEMD_EXEC_PID:"594",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",COLOR:"0",GOROOT_1_20_X64:"/opt/hostedtoolcache/go/1.20.14/x64",NVM_DIR:"/home/runner/.nvm",npm_config_metrics_registry:"https://registry.npmjs.org/",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",GOROOT_1_21_X64:"/opt/hostedtoolcache/go/1.21.7/x64",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20240218.1.0",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.0/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",JOURNAL_STREAM:"8:19606",GITHUB_WORKFLOW:"Deploy",_:"/opt/hostedtoolcache/node/16.20.2/x64/bin/npm",npm_config_prefix:"/opt/hostedtoolcache/node/16.20.2/x64",npm_config_cache:"/home/runner/.npm",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",GITHUB_RUN_ID:"8044147543",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"a8dcae1f2d26f7186f4ca3943db44f3b29e09104",GITHUB_BASE_REF:"",ImageOS:"ubuntu22",GITHUB_WORKFLOW_REF:"Minerian/nefentus/.github/workflows/deploy.yml@refs/heads/master",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GITHUB_ACTION_REPOSITORY:"",npm_config_node_gyp:"/opt/hostedtoolcache/node/16.20.2/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/nefentus/nefentus/node_modules/.bin:/home/runner/work/nefentus/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/16.20.2/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/opt/hostedtoolcache/node/16.20.2/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_4834a162-1208-4148-b53e-f22f0b39b61b",INVOCATION_ID:"ebe12d81cb2743ada9bc26fe132b163c",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",GOROOT_1_19_X64:"/opt/hostedtoolcache/go/1.19.13/x64",NODE:"/opt/hostedtoolcache/node/16.20.2/x64/bin/node",npm_package_name:"nefentus",GITHUB_ACTION:"__run",GITHUB_RUN_NUMBER:"4",GITHUB_TRIGGERING_ACTOR:"Nemanja2912",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 20",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"master",GITHUB_REPOSITORY:"Minerian/nefentus",npm_lifecycle_script:"vite build",STATS_UE:"true",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/25.2.9519653",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",GITHUB_REPOSITORY_ID:"616414967",GITHUB_ACTIONS:"true",npm_package_version:"0.1.0",npm_lifecycle_event:"build",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/nefentus/nefentus",ACCEPT_EULA:"Y",GITHUB_JOB:"build",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"a8dcae1f2d26f7186f4ca3943db44f3b29e09104",GITHUB_RUN_ATTEMPT:"1",GITHUB_REF:"refs/heads/master",GITHUB_ACTOR:"Nemanja2912",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",LEIN_HOME:"/usr/local/lib/lein",npm_config_globalconfig:"/opt/hostedtoolcache/node/16.20.2/x64/etc/npmrc",npm_config_init_module:"/home/runner/.npm-init.js",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_5195487a-40e9-46d5-bc33-4b1b4432a3d9",JAVA_HOME:"/usr/lib/jvm/temurin-11-jdk-amd64",PWD:"/home/runner/work/nefentus/nefentus",GITHUB_ACTOR_ID:"48948445",RUNNER_WORKSPACE:"/home/runner/work/nefentus",npm_execpath:"/opt/hostedtoolcache/node/16.20.2/x64/lib/node_modules/npm/bin/npm-cli.js",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",STATS_TIS:"mining",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",LEIN_JAR:"/usr/local/lib/lein/self-installs/leiningen-2.11.2-standalone.jar",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_5195487a-40e9-46d5-bc33-4b1b4432a3d9",npm_config_global_prefix:"/opt/hostedtoolcache/node/16.20.2/x64",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",npm_command:"run-script",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/25.2.9519653",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",STATS_EXTP:"https://provjobdsettingscdn.blob.core.windows.net/settings/provjobdsettings-0.5.154/provjobd.data",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/25.2.9519653",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_5195487a-40e9-46d5-bc33-4b1b4432a3d9",INIT_CWD:"/home/runner/work/nefentus/nefentus",EDITOR:"vi",NODE_ENV:"production",VITE_REACT_APP_BASE_ENDPOINT_API:"http://localhost:8080/api",VITE_REACT_APP_GA_ID:"G-HRH664KZ9E",VITE_REACT_APP_RECAPTCHA_SITE_KEY:"6Leb6H8oAAAAAM0q25gltEqlMOUUymzoDobq4NLc",VITE_REACT_APP_SECRET_WORD:"AppNefentusSuperPuperSecretWord"}.VITE_REACT_APP_QR_CODE_LINK}),e.jsx(y,{deleteUser:()=>I(o.link)})]}async function I(o){await p.deleteInvoice(o)?(s(r=>!r),setInfoMessage(t("messages.success.deleteInvoice"))):(s(r=>!r),setErrorMessage(t("messages.error.deleteInvoice")))}return e.jsxs("div",{children:[e.jsxs(j,{activeChain:"ethereum",supportedWallets:[L()],clientId:"639eea2ebcabed7eab90b56aceeed08b",children:[e.jsx(Y,{setLoadingData:s}),e.jsx(w,{grid:"1fr 1fr 1fr 1fr 1fr",label:c,data:i})]}),e.jsx(M,{})]})};export{se as default};
