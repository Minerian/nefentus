import{f as m,r,e as p,j as s,at as l,T as u,m as _}from"./index-ceef141d.js";import{H as f}from"./Helmet-244c3607.js";import{R as g}from"./index-ed88f98f.js";import{T as x}from"./topInfo-cfd8bee6.js";import"./modalOverlay-74fc3d71.js";import"./modalOverlay.module-dd54f8bc.js";import"./topInfo.module-430656a7.js";import"./constants-3a7ec10a.js";import"./bitcoin-b42c0434.js";const b="_productWrapper_oaacb_1",j="_productInfo_oaacb_15",h="_productImage_oaacb_20",I="_imageWrapper_oaacb_25",k="_body_oaacb_34",P="_image_oaacb_25",y="_price_oaacb_44",N="_stock_oaacb_45",a={productWrapper:b,productInfo:j,productImage:h,imageWrapper:I,body:k,image:P,price:y,stock:N},W=({product:e})=>{const o=new m,[n,i]=r.useState(null),{t}=p();async function d(){if(e.s3Key){console.log("Fetch image");const c=await o.getProductImage(e.link);c&&i(c)}}return r.useEffect(()=>{e&&d()},[e]),s.jsx(g,{priceUSD:e.price,userId:e.user?e.user.id:null,transInfoArg:{productId:e.id},disabled:e.stock===0,info:s.jsxs("div",{className:a.productWrapper,children:[s.jsx("div",{className:`card ${a.productInfo}`,children:s.jsxs("div",{className:a.body,children:[s.jsx(x,{title:e.name?e.name:"",description:e.description}),s.jsxs("p",{className:a.price,children:[s.jsxs("span",{children:[t("products.price"),":"]})," ",s.jsxs("span",{children:[e.price," USD"]})]}),s.jsxs("p",{className:a.stock,children:[s.jsxs("span",{children:[t("products.stock"),":"]})," ",s.jsx("span",{children:e.stock>=0?e.stock:t("products.unlimited")})]})]})}),s.jsx("div",{className:`card ${a.productImage}`,children:s.jsx("div",{className:a.imageWrapper,children:n&&s.jsx("img",{src:n,alt:e.title,className:a.image})})})]})})},L=()=>{const[e,o]=r.useState({}),i=l().productLink,t=new m;async function d(){const c=await t.getProduct(i);c&&o(c),console.log(c)}return r.useEffect(()=>{d()},[]),s.jsxs("div",{className:"container",children:[s.jsx(f,{children:s.jsxs("title",{children:[e.name?e.name:""," | Nefentus"]})}),s.jsx(u,{activeChain:"ethereum",supportedWallets:[_()],clientId:"639eea2ebcabed7eab90b56aceeed08b",children:s.jsx(W,{product:e})})]})};export{L as default};
