import{e as S,r as h,f as C,Z as F,M as A,n as T,j as e,i as P,C as $,S as U,B as x,a3 as O,a4 as k}from"./index-c9329193.js";import{S as H}from"./signupByEmail-82a12497.js";import"./recaptcha-wrapper-ed08ea1d.js";import"./zod-759f93f6.js";import"./error-3c144da9.js";const Y="_titleHeader_8bi6v_1",M="_box_8bi6v_7",B="_uploadItem_8bi6v_8",q="_light_8bi6v_13",G="_boxTitle_8bi6v_18",V="_row_8bi6v_24",K="_rowLeft_8bi6v_31",W="_rowRight_8bi6v_40",Z="_rightUpload_8bi6v_48",X="_formItem_8bi6v_55",z="_button_8bi6v_59",i={titleHeader:Y,box:M,uploadItem:B,light:q,boxTitle:G,row:V,rowLeft:K,rowRight:W,rightUpload:Z,formItem:X,button:z},m={GOVERNMENT_ISSUES_ID:"GOVERNMENT_ISSUES_ID",PICTURE_WIDTH_ID_IN_HAND:"PICTURE_WIDTH_ID_IN_HAND",PROOF_OF_ADRESS:"PROOF_OF_ADRESS",PROOF_OF_COMPANY:"PROOF_OF_COMPANY",ENHANCED_DILIGENCE:"ENHANCED_DILIGENCE"},L={FULL_NAME:"FULL_NAME",ADRESS:"ADRESS",CITY_AND_ZIP_CODE:"CITY_AND_ZIP_CODE"},b=[{id:L.FULL_NAME,label:"identification.verification.fullName",type:"text",level:0},{id:L.ADRESS,label:"identification.verification.address",type:"text",level:0},{id:L.CITY_AND_ZIP_CODE,label:"identification.verification.city",type:"text",level:0},{id:m.GOVERNMENT_ISSUES_ID,label:"identification.verification.issueId",type:"photo",level:0},{id:m.PICTURE_WIDTH_ID_IN_HAND,label:"identification.verification.picture",type:"photo",level:0},{id:m.PROOF_OF_ADRESS,label:"identification.verification.proofAddress",type:"photo",level:1},{id:m.PROOF_OF_COMPANY,label:"identification.verification.proofCompany",type:"photo",level:1,notRequired:!0},{id:m.ENHANCED_DILIGENCE,label:"identification.verification.enhanced",type:"photo",level:2}],J=()=>{const{t}=S(),[l,f]=h.useState(null),R=new C;new F("admin");const[j,u]=h.useState(b),[c,v]=h.useState([]),[I,y]=h.useState([]),[a,p]=h.useState(null);h.useContext(A);const o=localStorage.getItem("userId"),w=async()=>{const n=await Promise.all(Object.values(m).map(s=>R.getByKYC(s,o))),r=await Promise.all(Object.values(L).map(s=>R.getByKYCText(s,o))),d=n==null?void 0:n.map(s=>{const g=Object.keys(s)[0];return{[g]:s[g].data}}).reduce((s,g)=>({...s,...g}),{}),N=r==null?void 0:r.map(s=>{const g=Object.keys(s)[0];return{[g]:s[g].data}}).reduce((s,g)=>({...s,...g}),{}),E=b.map(s=>(s.id in d&&(s.notRequired&&(l==2||(!d[m.PROOF_OF_ADRESS].rejectReason||d[m.PROOF_OF_ADRESS].rejectReason=="")&&d[m.PROOF_OF_ADRESS].url)?(s.verify=!0,s.url="notRequired",s.rejectReason="notRequired"):(s.rejectReason=d[s.id].rejectReason,s.url=d[s.id].url,s.verify=d[s.id].verify),d[s.id].rejectReason!=null&&p(d[s.id].rejectReason)),s.id in N&&(s.rejectReason=N[s.id].rejectReason,s.url=N[s.id].url,s.verify=N[s.id].verify,N[s.id].rejectReason!=null&&p(N[s.id].rejectReason)),s));u(E)};h.useEffect(()=>{(async()=>{const r=new C,{data:d}=await r.getKYCLevel(o);d&&f(d.kycLevel)})(),w()},[o]);const{theme:_}=T();return e.jsxs(e.Fragment,{children:[e.jsx(P,{}),e.jsx($,{className:`${i.card} ${_!=="dark"?i.light:""} `,children:e.jsxs("div",{className:i.top,children:[e.jsx("div",{className:i.titleHeader,children:e.jsx(U,{title:t("identification.title"),description:t("identification.description"),identification:!0})}),e.jsxs("div",{className:i.box,children:[e.jsx("div",{className:i.boxTitle,children:t("identification.verificationLevels")}),e.jsxs("div",{className:i.row,children:[e.jsxs("div",{className:i.rowLeft,children:[t("identification.level").concat(" 1: ")," ",e.jsx("span",{children:t("identification.level1Description")})]}),e.jsx("div",{className:i.rowRight,style:{color:l>0?"#16C172":"#F24236"},children:e.jsx("span",{children:l>0?t("identification.verified"):t("identification.unverified")})})]}),e.jsxs("div",{className:i.row,children:[e.jsxs("div",{className:i.rowLeft,children:[t("identification.level").concat(" 2: "),e.jsxs("span",{children:[" ",t("identification.level2Description")]})]}),e.jsx("div",{className:i.rowRight,style:{color:l>1?"#16C172":"#F24236"},children:e.jsx("span",{children:l>1?t("identification.verified"):t("identification.unverified")})})]}),e.jsxs("div",{className:i.row,children:[e.jsxs("div",{className:i.rowLeft,children:[t("identification.level").concat(" 3: "),e.jsxs("span",{children:[" ",t("identification.level3Description")]})]}),e.jsx("div",{className:i.rowRight,style:{color:l>2?"#16C172":"#F24236"},children:e.jsx("span",{children:l>2?t("identification.verified"):t("identification.unverified")})})]})]}),e.jsxs("div",{className:i.box,children:[e.jsxs("div",{className:i.boxTitle,children:[" ",t("identification.accountLimit.title")]}),e.jsxs("div",{className:i.row,children:[e.jsx("div",{className:i.rowLeft,children:e.jsx("span",{children:t("identification.accountLimit.fiatDeposit")})}),e.jsx("div",{className:i.rowRight,children:l<1?"10 000$":l<2?"1 000 000$":l<3?"10 000 000$":t("identification.unlimited")})]}),e.jsxs("div",{className:i.row,children:[e.jsx("div",{className:i.rowLeft,children:e.jsx("span",{children:t("identification.accountLimit.cryptoDepositLimit")})}),e.jsx("div",{className:i.rowRight,children:t("identification.unlimited")})]}),e.jsxs("div",{className:i.row,children:[e.jsx("div",{className:i.rowLeft,children:e.jsx("span",{children:t("identification.accountLimit.cryptoWithdrawal")})}),e.jsx("div",{className:i.rowRight,children:t("identification.unlimited")})]}),e.jsxs("div",{className:i.row,children:[e.jsx("div",{className:i.rowLeft,children:e.jsx("span",{children:t("identification.accountLimit.transactionLimits")})}),e.jsx("div",{className:i.rowRight,children:t("identification.unlimited")})]})]}),e.jsxs("div",{className:i.uploadBox,children:[e.jsx("div",{className:i.boxTitle,children:t("identification.verification.title")}),e.jsxs("div",{className:i.uploadItem,children:[e.jsx("div",{className:`${i.row} ${i.rowItem}`,children:e.jsxs("div",{className:i.rowLeft,children:[t("identification.level").concat(" 1: "),l===0?e.jsx("p",{style:{color:"red",paddingLeft:10},children:a||null}):null]})}),b.map(n=>{const r=n.notRequired?"":"*";if(n.type=="text")return e.jsx(Q,{id:n.id,label:t(n.label).concat(r),getText:I,setGetText:y,declineResponse:a,text:n.url,verify:n.verify});if(n.type=="photo"&&n.level===0)return e.jsx(D,{id:n.id,label:t(n.label).concat(r),declineResponse:a,file:n.url,verify:n.verify,getData:c,setGetData:v})})]}),e.jsxs("div",{className:i.uploadItem,children:[e.jsx("div",{className:`${i.row} ${i.rowItem}`,children:e.jsxs("div",{className:i.rowLeft,style:l>0?{color:"white"}:{color:"grey"},children:[t("identification.level").concat(" 2: "),l===1?e.jsx("p",{style:{color:"red",paddingLeft:10},children:a||null}):null]})}),l<1?e.jsxs("div",{className:`${i.row} ${i.formItem}`,children:[e.jsx("div",{className:i.rowLeft,children:e.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[e.jsx("span",{children:t("identification.verification.proofAddress").concat("*")}),e.jsx("span",{style:{paddingTop:20},children:t("identification.verification.proofCompany")})]})}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",height:77,justifyContent:"space-between"},children:[e.jsx(x,{color:"gray",children:e.jsx("span",{style:l>0?{color:"white"}:{color:"grey"},children:t("general.upload")})}),e.jsx(x,{color:"gray",children:e.jsx("span",{style:l>0?{color:"white"}:{color:"grey"},children:t("general.upload")})})]})]}):e.jsx(e.Fragment,{children:j.map(n=>{const r=n.notRequired?"":"*";if(n.level===1)return e.jsx(D,{id:n.id,label:t(n.label).concat(r),declineResponse:a,file:n.url,verify:n.verify,getData:c,setGetData:v})})})]}),e.jsxs("div",{className:i.uploadItem,children:[e.jsx("div",{className:`${i.row} ${i.rowItem}`,children:e.jsxs("div",{className:i.rowLeft,style:l>1?{color:"white"}:{color:"grey"},children:[t("identification.level").concat(" 3: "),l===2?e.jsx("p",{style:{color:"red",paddingLeft:10},children:a||null}):null]})}),l<2?e.jsxs("div",{className:`${i.row} ${i.formItem}`,children:[e.jsx("div",{className:i.rowLeft,children:e.jsx("span",{children:t("identification.verification.enhanced").concat("*")})}),e.jsx("div",{children:e.jsx(x,{color:"gray",children:e.jsx("span",{style:l>1?{color:"white"}:{color:"grey"},children:t("general.upload")})})})]}):e.jsx(e.Fragment,{children:b.map(n=>{const r=n.notRequired?"":"*";if(n.level===2)return e.jsx(D,{id:n.id,label:t(n.label).concat(r),declineResponse:a,file:n.url,verify:n.verify,getData:c,setGetData:v})})})]}),e.jsx("div",{className:i.button,children:e.jsx(x,{children:t("identification.verification.confirm")})})]})]})})]})},Q=({label:t,id:l,getText:f,setGetText:R,text:j,verify:u,declineResponse:c})=>{const[v,I]=h.useState(""),[y,a]=h.useState(!1),{t:p}=S(),o=v.slice(0,40),w=j==null?void 0:j.slice(0,40);return h.useEffect(()=>{const _={...f,[l]:v};R(_)},[v]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`${i.row} ${i.formItem}`,children:[e.jsxs("div",{className:i.rowLeft,children:[e.jsx("span",{children:t}),u?e.jsx("div",{style:{paddingLeft:10},children:e.jsx("img",{src:O,alt:""})}):j?e.jsx(e.Fragment,{children:e.jsx("span",{style:{paddingLeft:20,color:"gray"},children:c&&c!=""?c:"Currently being checked"})}):null]}),e.jsxs("div",{className:`${i.rowRight} ${i.rightUpload}`,children:[e.jsx("p",{className:i.lvl,children:u?e.jsx("div",{}):c!=null?o?o.length>39?o+"...":o:j:w?w.length>39?w+"...":w:o.length>39?o+"...":o}),u?e.jsx(x,{color:"gray",children:e.jsx("span",{style:{color:"grey"},children:p("identification.verification.add")})}):c&&c!=""?e.jsx(x,{onClick:()=>a(!0),color:"gray",children:p("identification.verification.add")}):j?e.jsx(x,{color:"gray",children:e.jsx("span",{style:{color:"grey"},children:p("identification.verification.add")})}):e.jsx(x,{onClick:()=>a(!0),color:"gray",children:p("identification.verification.add")})]})]}),e.jsx(k,{show:y,setShow:a,value:v,setValue:I,id:l})]})},D=({label:t,id:l,file:f,getData:R,setGetData:j,verify:u,declineResponse:c})=>{const[v,I]=h.useState("");h.useState(!1);const{t:y}=S(),[a,p]=h.useState(null);v.slice(0,40);const o=w=>{const _=document.createElement("input");_.type="file",_.accept="image/*",_.click(),_.addEventListener("change",n=>{const r=n.target.files[0];if(r){const d=r.name,N=URL.createObjectURL(r),E={...R,[l]:r};p(N),j(E),I(d)}})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:`${i.row} ${i.formItem}`,children:[e.jsxs("div",{className:i.rowLeft,children:[e.jsx("span",{children:t}),u?f!="notRequired"&&e.jsx("div",{style:{paddingLeft:10},children:e.jsx("img",{src:O,alt:""})}):f?e.jsx(e.Fragment,{children:e.jsx("span",{style:{paddingLeft:20,color:"gray"},children:c&&c!=""?c:"Currently being checked"})}):null]}),e.jsxs("div",{className:`${i.rowRight} ${i.rightUpload}`,children:[u?e.jsx("div",{}):c!=null?a?e.jsx("img",{style:{borderRadius:5,width:"50px",height:"50px"},src:a}):f?e.jsx("img",{style:{borderRadius:5,width:"50px",height:"50px"},src:f}):e.jsx("div",{}):f?e.jsx("img",{style:{borderRadius:5,width:"50px",height:"50px"},src:f}):a?e.jsx("img",{style:{borderRadius:5,width:"50px",height:"50px"},src:a}):e.jsx("div",{}),u?e.jsx(x,{color:"gray",children:e.jsx("span",{style:{color:"grey"},children:y("general.upload")})}):c&&c!=""?e.jsx(x,{onClick:()=>o(),color:"gray",children:y("general.upload")}):f?e.jsx(x,{color:"gray",children:e.jsx("span",{style:{color:"grey"},children:y("general.upload")})}):e.jsx(x,{onClick:o,color:"gray",children:y("general.upload")})]})]})})},le=()=>e.jsxs("div",{children:[e.jsx(J,{}),e.jsx(H,{})]});export{le as default};
